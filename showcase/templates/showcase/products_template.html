<script type="text/template" id="products_template">
{% if product_list %}
    <div class="navbar navbar-inverse navbar-fixed-top" class="upper">
        <div class="navbar-inner">
            <div class="">
                <div class="header">List of products:</div>
                <ul class="nav">
                </ul>
            </div>
        </div>
    </div>

    <div class='table table-bordered'>
        <ul>
            {% for some_item in product_list %}
                {% with request.resolver_match.namespace|add:':details' as path %}
                    {% url path some_item.pk|stringformat:"s" as resolved_url %}
                    <li><a href="{{ resolved_url }}">{{ some_item.name }}</a>
                {% endwith %}
                        <ul>
                        {% for review in some_item.reviews.all %}
                             <li>{{ review }}</li>
                        {% endfor %}
                        </ul>
                        Product price: {{ some_item.price }}
                        <br>
                        All ingredients price : {{ some_item.sum_ings_price }}
                    </li>
            {% endfor %}
        </ul>
    </div>

{% if product_list.page_obj.has_other_pages %}
    <ul class="pagination">
        {% if product_list.page_obj.has_previous %}
          <li><a href="?page={{ product_list.page_obj.previous_page_number }}">&laquo;</a></li>
        {% else %}
          <li class="disabled"><span>&laquo;</span></li>
        {% endif %}
        {% for i in product_list.paginator.page_range %}
          {% if product_list.number == i %}
            <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
          {% else %}
            <li><a href="?page={{ i }}">{{ i }}</a></li>
          {% endif %}
        {% endfor %}
        {% if product_list.has_next %}
          <li><a href="?page={{ product_list.page_obj.next_page_number }}">&raquo;</a></li>
        {% else %}
          <li class="disabled"><span>&raquo;</span></li>
        {% endif %}
    </ul>
{% endif %}

{% else %}
    <p>No items are available.</p>
{% endif %}
</script>